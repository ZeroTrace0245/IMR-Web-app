@page "/"
@inject IMR_Web_app.Services.IAuthService AuthService
@inject NavigationManager NavManager

<PageTitle>Home</PageTitle>

<div class="d-flex align-items-center justify-content-center" style="min-height:60vh;">
    <div class="text-center text-muted">
        <div class="spinner-border text-light" role="status"></div>
        <div class="mt-3">Redirecting...</div>
    </div>
</div>

@code {
    protected override void OnInitialized()
    {
        if (!AuthService.IsAuthenticated)
        {
            NavManager.NavigateTo("/login", true);
        }
        else
        {
            NavManager.NavigateTo("/greengrid", true);
        }
    }
}
